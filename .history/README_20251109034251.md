# Portal Text Adventure

A Codespace-ready text adventure that uses an AI text generator and an image generator to create wild rooms.

Overview
- You start in a room with two portals. The signs are unreadable and the way you came from disappeared.
- Each room has two exits. One exit is "home or death" (75% home, 25% death). The other is "existing or new" (75% go to an existing room, 25% generate a new room).
- New rooms are generated by the AI and include descriptive text and one image. Once generated, a room is added to the fixed map and does not change.
- Every 10 rooms generated by the AI will instead create a "Room Creation Computer" where an admin can add a custom room. Using the Room Creation Computer normally requires coins; admins with ADMIN_PASS can bypass the coin cost.
- Goal: get back home.

Requirements
- Python 3.10+
- Environment variables:
  - PROVIDER_TEXT (default: huggingface)
  - PROVIDER_IMAGE (default: huggingface)
  - HUGGINGFACE_API_KEY (if using Hugging Face)
  - GEMINI_API_KEY or GOOGLE_APPLICATION_CREDENTIALS (if using Gemini)
  - IMAGE_SIZE (default: 512x512)
  - ADMIN_PASS (optional; if not provided a random one can be generated on first run)
  - NO_IMAGES=1 (optional to disable image generation)
  - COIN_COST (optional, default 3)

Quick start
1. Create a venv and install:
   python -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt

2. Set your provider keys (for Hugging Face example):
   export PROVIDER_TEXT=huggingface
   export PROVIDER_IMAGE=huggingface
   export HUGGINGFACE_API_KEY="hf_..."
   export IMAGE_SIZE="512x512"
   export ADMIN_PASS="(optional)"

3. Run:
   python game.py

Notes
- rooms.json persists the generated map; images are saved in images/
- Some rooms contain coins. Coins are collected automatically when you enter a room and are required to use the Room Creation Computer (by default 3 coins). Admins may bypass using ADMIN_PASS.
- The two exits are randomized on each visit (which is which), but once a room is created its content and exits remain fixed.